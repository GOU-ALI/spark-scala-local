name = "AdvancedJob"
engine = "spark"
mode = "batch"

source {
  format = "csv"
  options {
    header = "true"
    path = "src/main/resources/data"
    regexFilter = "data_202.*\\.csv" // Matches data_2023.csv, data_2024.csv, NOT ignore_me.csv
  }
}

transformations {
  // Just pass through
  passthrough = "SELECT * FROM input_table"
}

// Write to a single named file
sink {
  format = "csv"
  mode = "overwrite"
  path = "output"
  options {
    header = "true"
    outputFilename = "final_report.csv"
  }
}
